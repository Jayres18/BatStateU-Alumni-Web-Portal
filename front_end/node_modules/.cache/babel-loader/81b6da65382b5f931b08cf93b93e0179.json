{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathe\\\\Desktop\\\\BatStateU-Alumni-Web-Portal\\\\front_end\\\\src\\\\profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport { UserImage } from \"./UserImage\";\nimport { ModalBackground } from \"../layout/ModalBackground\";\nimport { EditProfile } from \"./edit_form/EditProfile\";\nimport { EditPassword } from \"./edit_form/EditPassword\";\nimport { DataSection } from \"./DataSection\";\nimport { AlumniData } from \"./AlumniData\";\nimport { AdminData } from \"./AdminData\";\nimport { useState, useEffect, useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport AdminAuthContext from \"../context/AdminAuthContext\";\nimport { client } from \"../api/api\"; //this component is shared by alumni and admin page\n//notice that endpoint var, token var, DataSection component (AdminData, AlumniData), inputs from edit profile are conditionally set\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const [alumniUser, setAlumniUser] = useState(null);\n  const [adminUser, setAdminUser] = useState(null);\n  const [editProfile, setEditProfile] = useState(false);\n  const [editPass, setEditPass] = useState(false);\n  const {\n    auth\n  } = useContext(AuthContext);\n  const {\n    authAdmin\n  } = useContext(AdminAuthContext);\n  const apiEndpoint = auth.user ? `/alumni/account/${auth.user}` : `/admin/account/${authAdmin.user}`;\n  const token = auth.user ? auth.token : authAdmin.token;\n  useEffect(() => {\n    const getUserData = async () => {\n      console.log(\"alumni: \", auth.user);\n      console.log(\"admin: \", authAdmin.user);\n      console.log(\"auth: \", auth);\n      let res = await client.get(`http://localhost:4000/${apiEndpoint}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Data: \", res.data);\n\n      if (auth.user) {\n        setAlumniUser(res.data);\n      } else {\n        setAdminUser(res.data);\n      }\n    };\n\n    getUserData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `absolute z-30 w-full h-screen inset-0 ${editProfile || editPass ? \"block\" : \"hidden\"} overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(ModalBackground, {\n        modalVisibility: editProfile ? editProfile : editPass,\n        setModalVisibility: editProfile ? setEditProfile : setEditPass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), editProfile ? /*#__PURE__*/_jsxDEV(EditProfile, {\n        user: alumniUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(EditPassword, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), alumniUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-grey-100 flex flex-col text-454545 font-notoSans border border-grey-200 shadow-lg md:w-196 md:flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(UserImage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DataSection, {\n        alumniUser: alumniUser,\n        setEditProfile: setEditProfile,\n        setEditPass: setEditPass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"FvIa9vstMO3maN431DFgAomfmqo=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["UserImage","ModalBackground","EditProfile","EditPassword","DataSection","AlumniData","AdminData","useState","useEffect","useContext","AuthContext","AdminAuthContext","client","Profile","alumniUser","setAlumniUser","adminUser","setAdminUser","editProfile","setEditProfile","editPass","setEditPass","auth","authAdmin","apiEndpoint","user","token","getUserData","console","log","res","get","headers","Authorization","data"],"sources":["C:/Users/mathe/Desktop/BatStateU-Alumni-Web-Portal/front_end/src/profile/Profile.js"],"sourcesContent":["import { UserImage } from \"./UserImage\";\r\nimport { ModalBackground } from \"../layout/ModalBackground\";\r\nimport { EditProfile } from \"./edit_form/EditProfile\";\r\nimport { EditPassword } from \"./edit_form/EditPassword\";\r\nimport { DataSection } from \"./DataSection\";\r\nimport { AlumniData } from \"./AlumniData\";\r\nimport { AdminData } from \"./AdminData\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport AuthContext from \"../context/AuthContext\";\r\nimport AdminAuthContext from \"../context/AdminAuthContext\";\r\nimport { client } from \"../api/api\";\r\n\r\n//this component is shared by alumni and admin page\r\n//notice that endpoint var, token var, DataSection component (AdminData, AlumniData), inputs from edit profile are conditionally set\r\n\r\nconst Profile = () => {\r\n    const [alumniUser, setAlumniUser] = useState(null);\r\n    const [adminUser, setAdminUser] = useState(null);\r\n    const [editProfile, setEditProfile] = useState(false);\r\n    const [editPass, setEditPass] = useState(false);\r\n    const { auth } = useContext(AuthContext);\r\n    const { authAdmin } = useContext(AdminAuthContext);\r\n\r\n    const apiEndpoint = auth.user\r\n        ? `/alumni/account/${auth.user}`\r\n        : `/admin/account/${authAdmin.user}`;\r\n    const token = auth.user ? auth.token : authAdmin.token;\r\n\r\n    useEffect(() => {\r\n        const getUserData = async () => {\r\n            console.log(\"alumni: \", auth.user);\r\n            console.log(\"admin: \", authAdmin.user);\r\n            console.log(\"auth: \", auth);\r\n            let res = await client.get(`http://localhost:4000/${apiEndpoint}`, {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            });\r\n\r\n            console.log(\"Data: \", res.data);\r\n            if (auth.user) {\r\n                setAlumniUser(res.data);\r\n            } else {\r\n                setAdminUser(res.data);\r\n            }\r\n        };\r\n        getUserData();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"mt-10\">\r\n            {/*Modals */}\r\n            <div\r\n                className={`absolute z-30 w-full h-screen inset-0 ${\r\n                    editProfile || editPass ? \"block\" : \"hidden\"\r\n                } overflow-y-auto`}\r\n            >\r\n                <ModalBackground\r\n                    modalVisibility={editProfile ? editProfile : editPass}\r\n                    setModalVisibility={\r\n                        editProfile ? setEditProfile : setEditPass\r\n                    }\r\n                />\r\n                {editProfile ? (\r\n                    <EditProfile user={alumniUser} />\r\n                ) : (\r\n                    <EditPassword />\r\n                )}\r\n            </div>\r\n            {/*Modals */}\r\n            {alumniUser ? (\r\n                <div className=\"bg-grey-100 flex flex-col text-454545 font-notoSans border border-grey-200 shadow-lg md:w-196 md:flex-row\">\r\n                    <UserImage />\r\n                    <DataSection\r\n                        alumniUser={alumniUser}\r\n                        setEditProfile={setEditProfile}\r\n                        setEditPass={setEditPass}\r\n                    />\r\n                </div>\r\n            ) : (\r\n                <h1>Loading</h1>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}